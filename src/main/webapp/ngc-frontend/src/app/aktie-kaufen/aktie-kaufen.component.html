<div class="broker-container">
  <h2> <i class="fa-solid fa-money-bill"></i> Aktie kaufen</h2>
  <div class="search-container">
    <input type="text" placeholder="Aktiensymbol eingeben" name="isin" [(ngModel)]="isin" placeholder="ISIN">
    <button (click)="searchSymbols(isin)">
      Suchen
      <i class="fa fa-search" style="margin-left: 5px;"></i> <!-- Font Awesome Lupensymbol -->
    </button>

  </div>
</div>

<div class="broker-container">

  <h2><i class="fa-solid fa-bookmark"></i> Vorschl채ge</h2>
 

  <div *ngIf="initalLoading">
    <p>Geben Sie in die Suche ein Aktienzeichen ein und klicken Sie auf den Suche-Button, um Vorschl채ge zu erhalten.</p>
  </div>

  <div *ngIf="!isLoading && symbols.length === 0 && !initalLoading">
    <p>Zur dieser Eingabe wurden keine verf체gbaren Aktien gefunden. Bitte geben Sie ein g체ltiges Aktiensymbol ein, um die entsprechenden Aktien anzuzeigen.</p>
  </div>

  <div *ngIf="isLoading" class="loading-spinner">
    <i class="fa fa-spinner fa-spin"></i>
  </div>

  <div *ngIf="!initalLoading && !isLoading && symbols.length > 0">

    <table class="table-transaktionen">
      <thead>


        <tr>
          <th>Aktie</th>
          <th>Symbol</th>
          <th>Typ</th>
          <th>Preis (in $)</th>
          <th>Handeln</th>
        </tr>
      </thead>
      <tbody>

        <tr *ngFor="let symbol of symbols">
          <td>{{ symbol.description }}</td>
          <td>{{ symbol.symbol }}</td>
          <td>{{ symbol.type }}</td>
          <td>{{symbol.price }}</td> <!-- Anzeige des Preises -->
          <td><button (click)="openKaufenPopup(symbol)">Kaufen</button></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>